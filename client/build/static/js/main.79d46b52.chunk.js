(this.webpackJsonpbezero_weather_app=this.webpackJsonpbezero_weather_app||[]).push([[0],{131:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(46),i=n.n(r),o=(n(131),n(154)),s=n(159),j=n(158),u=n(153),h=n.p+"static/media/weatherbitLogo.31316db1.png",b=n(2);var l=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.a,{className:"appHeader",textAlign:"center",as:"h1"}),Object(b.jsx)("img",{src:h}),Object(b.jsx)(u.a,{})]})},d=n(75);var f=function e(t){var n=t.weatherCondition,c=t.cityName,a=t.sunsetTime,r=t.currentTemperature,i=t.sunriseTime,h=t.observedTime;return e?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(s.a,{children:Object(b.jsxs)(s.a.Column,{textAlign:"center",children:[Object(b.jsx)(u.a,{}),Object(b.jsx)(o.a,{children:Object(b.jsxs)(j.a,{as:"h2",children:["Current Weather in ",c,": "]})}),Object(b.jsx)(u.a,{}),Object(b.jsxs)(o.a,{children:["Current Weather Condition: ",n," "]}),Object(b.jsxs)(o.a,{children:["Current Temperature: ",r," \xb0C \ud83c\udf21"]}),Object(b.jsxs)(o.a,{children:["Sunrise Time:",i," "]}),Object(b.jsxs)(o.a,{children:["Sunset Time: ",a," "]}),Object(b.jsxs)(o.a,{children:["Weather Last Observed At ",h," "]}),Object(b.jsx)(u.a,{})]})})})}):null};var O=function(e){var t=e.currentWeather;if(!t)return null;var n=t.map((function(e){return Object(b.jsx)(f,{weatherCondition:e.weather.description,cityName:e.city_name,sunsetTime:e.sunset,sunriseTime:e.sunrise,currentTemperature:e.temp,observedTime:e.ob_time})}));return Object(b.jsx)(b.Fragment,{children:n})};var m=function(e){var t=e.datetime,n=e.weatherCondition,c=e.currentTemperature;return t?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(s.a,{children:Object(b.jsxs)(s.a.Column,{textAlign:"center",children:[Object(b.jsx)(o.a,{children:Object(b.jsxs)(j.a,{as:"h4",children:["Date: ",t," \ud83d\uddd3"]})}),Object(b.jsxs)(o.a,{children:["Condition: ",n," "]}),Object(b.jsxs)(o.a,{children:["Temperature: ",c," \xb0C \ud83c\udf21"]})]})})})}):null};var x=function(e){var t=e.forecastWeather;if(!t)return null;var n=t.slice(0,7).map((function(e){return Object(b.jsx)(m,{datetime:e.datetime,weatherCondition:e.weather.description,currentTemperature:e.temp})}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o.a,{children:Object(b.jsx)(j.a,{as:"h2",children:"7 Day Forecast:"})}),Object(b.jsx)(u.a,{}),n]})},p=n(156),v=n(155);var g=function(e){var t=e.handleLocationAsCitySubmit,n=e.location,c=e.setLocation,a=e.formatInput;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(p.a,{className:"form-box",onSubmit:function(e){e.preventDefault(),t(n)},children:Object(b.jsxs)(p.a.Field,{children:[Object(b.jsx)(j.a,{children:"Find Weather by City Name:"}),Object(b.jsx)(v.a,{icon:"search",placeholder:"e.g. Edinburgh, UK...",onChange:function(e){var t=a(e.target.value);c(t)}})]})})})};var C=function(e){var t=e.handleLocationAsPostcodeSubmit,n=e.location,c=e.setLocation,a=e.formatInput;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(p.a,{className:"form-box",onSubmit:function(e){e.preventDefault(),t(n)},children:Object(b.jsxs)(p.a.Field,{children:[Object(b.jsx)(j.a,{children:"Find Weather by Postcode/Zipcode:"}),Object(b.jsx)(v.a,{icon:"search",placeholder:"e.g. EH10 6JX...",onChange:function(e){var t=a(e.target.value);c(t)}})]})})})},S="http://localhost:3000/api/weathersaves/",y=function(e){return fetch(S,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))},F=n(141),L=function(e){var t=e.weatherSave,n=e.removeWeatherSave;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h3",{children:["City: ",t.data[0].city_name,", ",t.data[0].country_code," "]}),Object(b.jsxs)("p",{children:["Forecast at time of search: ",t.data[0].weather.description]}),Object(b.jsxs)("p",{children:["Temperature: ",t.data[0].temp," \xb0C \ud83c\udf21"]}),Object(b.jsx)(F.a,{onClick:function(){var e;(e=t._id,console.log(e),fetch(S+e,{method:"DELETE"})).then((function(){n(t._id)}))},children:" Delete \ud83d\uddd1 "}),Object(b.jsx)("hr",{})]})},w=function(e){var t=e.weatherSaves,n=e.removeWeatherSave,c=t.map((function(e){return Object(b.jsx)(L,{weatherSave:e,removeWeatherSave:n})}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.a,{as:"h2",children:"Your Recent Weather Location Searches "}),Object(b.jsx)(u.a,{}),c]})};var T=function(e){var t=e.handleLocationAsLatLonSubmit,n=e.location,c=e.setLocation,a=e.formatInput;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(p.a,{className:"form-box",onSubmit:function(e){e.preventDefault(),t(n)},children:Object(b.jsxs)(p.a.Field,{children:[Object(b.jsx)(j.a,{children:"Find Weather by Lat/Lon:"}),Object(b.jsx)(v.a,{icon:"search",placeholder:"e.g. 55.95,-3.18...",onChange:function(e){var t=a(e.target.value);c(t)}})]})})})};var W=function(){var e=Object(c.useState)([{}]),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([{}]),i=Object(d.a)(r,2),o=i[0],s=i[1],j=Object(c.useState)(""),h=Object(d.a)(j,2),l=h[0],f=h[1],p=Object(c.useState)([]),v=Object(d.a)(p,2),F=v[0],L=v[1],W=function(e){var t=F.map((function(e){return e}));t.push(e),L(t)};Object(c.useEffect)((function(){fetch(S).then((function(e){return e.json()})).then((function(e){L(e)}))}),[]);var _=function(e){fetch("https://api.weatherbit.io/v2.0/current?city="+e+"&key=42f951c1eea94e33a68cd790a1f613fb").then((function(e){return e.json()})).then((function(e){a(e),y(e).then((function(e){W(e)}))}))},A=function(e){var t=e.split(","),n="https://api.weatherbit.io/v2.0/current?lat="+t[0]+"&lon="+t[1]+"&key=42f951c1eea94e33a68cd790a1f613fb";fetch(n).then((function(e){return e.json()})).then((function(e){a(e),y(e).then((function(e){W(e)}))}))},k=function(e){fetch("https://api.weatherbit.io/v2.0/current?postal_code="+e+"&key=42f951c1eea94e33a68cd790a1f613fb").then((function(e){return e.json()})).then((function(e){a(e),y(e).then((function(e){W(e)}))}))},N=function(e){fetch("https://api.weatherbit.io/v2.0/forecast/daily?city="+e+"&key=42f951c1eea94e33a68cd790a1f613fb").then((function(e){return e.json()})).then((function(e){s(e)}))},D=function(e){fetch("https://api.weatherbit.io/v2.0/forecast/daily?postal_code="+e+"&key=42f951c1eea94e33a68cd790a1f613fb").then((function(e){return e.json()})).then((function(e){s(e)}))},I=function(e){var t=e.split(","),n="https://api.weatherbit.io/v2.0/current?lat="+t[0]+"&lon="+t[1]+"&key=42f951c1eea94e33a68cd790a1f613fb";fetch(n).then((function(e){return e.json()})).then((function(e){s(e)}))},E=function(e){return e.toUpperCase()};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{handleLocationAsCitySubmit:function(e){_(e),N(e)},location:l,setLocation:f,formatInput:E}),Object(b.jsx)(C,{handleLocationAsPostcodeSubmit:function(e){k(e),D(e)},location:l,setLocation:f,formatInput:E}),Object(b.jsx)(T,{handleLocationAsLatLonSubmit:function(e){A(e),I(e)},location:l.toString(),setLocation:f,formatInput:function(e){return e.toUpperCase().split(",").map((function(e){return e.trim()}))}}),Object(b.jsx)(O,{location:l,currentWeather:n.data}),Object(b.jsx)(x,{location:l,forecastWeather:o.data}),Object(b.jsx)(u.a,{children:Object(b.jsx)(m,{})}),Object(b.jsx)(w,{weatherSaves:F,removeWeatherSave:function(e){var t=F.map((function(e){return e})),n=t.map((function(e){return e._id})).indexOf(e);console.log(n),t.splice(n,1),L(t)}})]})};var _=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(o.a,{className:"App",children:Object(b.jsx)(s.a,{children:Object(b.jsxs)(s.a.Column,{textAlign:"center",children:[Object(b.jsx)(l,{}),Object(b.jsx)(W,{})]})})})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,160)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};n(139);i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(_,{})}),document.getElementById("root")),A()}},[[140,1,2]]]);
//# sourceMappingURL=main.79d46b52.chunk.js.map